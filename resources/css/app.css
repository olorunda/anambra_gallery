@import 'tailwindcss';
@import '../../vendor/livewire/flux/dist/flux.css';

@source '../views';
@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';
@source '../../vendor/livewire/flux-pro/stubs/**/*.blade.php';
@source '../../vendor/livewire/flux/stubs/**/*.blade.php';

@custom-variant dark (&:where(.dark, .dark *));

@theme {
    --font-sans: 'Instrument Sans', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';

    --color-zinc-50: #fafafa;
    --color-zinc-100: #f5f5f5;
    --color-zinc-200: #e5e5e5;
    --color-zinc-300: #d4d4d4;
    --color-zinc-400: #a3a3a3;
    --color-zinc-500: #737373;
    --color-zinc-600: #525252;
    --color-zinc-700: #404040;
    --color-zinc-800: #262626;
    --color-zinc-900: #171717;
    --color-zinc-950: #0a0a0a;

    --color-accent: var(--color-neutral-800);
    --color-accent-content: var(--color-neutral-800);
    --color-accent-foreground: var(--color-white);

    /* Custom Colors from public layout */
    --color-primary: #f59e0b;
    --color-background-light: #fefbec;
    --color-background-dark: #1e1e1e;
    --color-text-light: #1c1917;
    --color-text-dark: #e5e5e5;
    --color-button-bg-light: #e5e7eb;
    --color-button-bg-dark: #404040;
    --color-button-text-light: #374151;
    --color-button-text-dark: #d4d4d4;

    /* Custom Fonts */
    --font-display: 'Libre Baskerville', serif;
    --font-body: 'Karla', sans-serif;

    /* Custom Border Radius */
    /* Note: Tailwind v4 uses --radius-* variables or we can just extend utilities in CSS if needed, 
       but for theme variables we can map them if we used theme() function. 
       However, since it was extend.borderRadius, we might want to ensure classes like rounded-xl match.
       Tailwind 4 usually inherits default radius. Let's leave radius for now or check if we can override defaults easily.
       Actually, v4 allows overriding utilities. Let's just stick to colors/fonts first as they are most critical.
       To override default radius: --radius: 0.75rem; --radius-lg: 1rem; --radius-xl: 1.5rem;
    */
    --radius: 0.75rem;
    --radius-lg: 1rem;
    --radius-xl: 1.5rem;
}

@layer components {
    .map-highlight {
        fill: #fef08a;
    }

    /* Image map area styling */
    area {
        cursor: pointer;
        transition: all 0.3s ease;
    }

    /* Create overlay for visual effects */
    .map-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 10;
    }

    .map-container {
        position: relative;
        display: inline-block;
    }

    /* Hover effect overlay */
    .area-hover-overlay {
        position: absolute;
        background-color: rgba(250, 204, 21, 0.3); /* primary color with transparency */
        border: 2px solid #facc15;
        border-radius: 4px;
        pointer-events: none;
        opacity: 0;
        transition: opacity 0.2s ease-in-out;
        z-index: 5;
    }

    /* Selected effect overlay */
    .area-selected-overlay {
        position: absolute;
        background-color: rgba(250, 204, 21, 0.5); /* primary color with more opacity */
        border: 3px solid #facc15;
        border-radius: 4px;
        pointer-events: none;
        opacity: 0;
        transition: opacity 0.3s ease-in-out;
        z-index: 6;
        @apply shadow-[0_0_10px_rgba(250,204,21,0.6)];
    }

    /* Active states */
    .area-hover-overlay.active {
        opacity: 1;
    }

    .area-selected-overlay.active {
        opacity: 1;
        animation: pulse-glow 2s infinite;
    }

    @keyframes pulse-glow {
        0%, 100% {
            box-shadow: 0 0 10px rgba(250, 204, 21, 0.6);
        }
        50% {
            box-shadow: 0 0 20px rgba(250, 204, 21, 0.8);
        }
    }

    /* Call-to-action effects */
    .map-cta-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 2;
        background: radial-gradient(circle, transparent 60%, rgba(250, 204, 21, 0.1) 100%);
        animation: subtle-pulse 3s infinite;
    }

    .map-instruction {
        position: absolute;
        top: -40px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(250, 204, 21, 0.9);
        color: #1f2937;
        padding: 8px 16px;
        border-radius: 20px;
        font-size: 14px;
        font-weight: 600;
        white-space: nowrap;
        animation: bounce-fade 4s infinite;
        z-index: 15;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }

    .map-instruction::after {
        content: '';
        position: absolute;
        top: 100%;
        left: 50%;
        transform: translateX(-50%);
        width: 0;
        height: 0;
        border-left: 8px solid transparent;
        border-right: 8px solid transparent;
        border-top: 8px solid rgba(250, 204, 21, 0.9);
    }

    .map-border-glow {
        position: absolute;
        top: -4px;
        left: -4px;
        right: -4px;
        bottom: -4px;
        border: 2px solid rgba(250, 204, 21, 0.4);
        border-radius: 12px;
        pointer-events: none;
        z-index: 3;
        animation: border-pulse 2.5s infinite;
    }

    @keyframes subtle-pulse {
        0%, 100% {
            opacity: 0.3;
            transform: scale(1);
        }
        50% {
            opacity: 0.6;
            transform: scale(1.02);
        }
    }

    @keyframes bounce-fade {
        0%, 20%, 50%, 80%, 100% {
            transform: translateX(-50%) translateY(0);
            opacity: 0.8;
        }
        10% {
            transform: translateX(-50%) translateY(-5px);
            opacity: 1;
        }
        40% {
            transform: translateX(-50%) translateY(-3px);
            opacity: 0.9;
        }
    }

    @keyframes border-pulse {
        0%, 100% {
            border-color: rgba(250, 204, 21, 0.2);
            box-shadow: 0 0 0 0 rgba(250, 204, 21, 0.4);
        }
        50% {
            border-color: rgba(250, 204, 21, 0.6);
            box-shadow: 0 0 0 4px rgba(250, 204, 21, 0.1);
        }
    }

    /* Hide call-to-action after first interaction */
    .map-container.interacted .map-cta-overlay,
    .map-container.interacted .map-instruction,
    .map-container.interacted .map-border-glow {
        display: none;
    }
}

@layer theme {
    .dark {
        --color-accent: var(--color-white);
        --color-accent-content: var(--color-white);
        --color-accent-foreground: var(--color-neutral-800);
    }
}

@layer base {

    *,
    ::after,
    ::before,
    ::backdrop,
    ::file-selector-button {
        border-color: var(--color-gray-200, currentColor);
    }
}

[data-flux-field]:not(ui-radio, ui-checkbox) {
    @apply grid gap-2;
}

[data-flux-label] {
    @apply  !mb-0 !leading-tight;
}

input:focus[data-flux-control],
textarea:focus[data-flux-control],
select:focus[data-flux-control] {
    @apply outline-hidden ring-2 ring-accent ring-offset-2 ring-offset-accent-foreground;
}

/* \[:where(&)\]:size-4 {
    @apply size-4;
} */
